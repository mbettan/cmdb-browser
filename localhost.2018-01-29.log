29-Jan-2018 11:01:19.791 SEVERE [https-jsse-nio-8443-exec-20] org.apache.catalina.core.ApplicationContext.log Exception while dispatching incoming RPC call
 com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract com.hp.ucmdb_browser.shared.history.HistoryChangesCount com.hp.ucmdb_browser.shared.UcmdbBrowserService.getHistoryChangesCount(java.lang.String,com.hp.ucmdb_browser.shared.history.HistoryChangesFilter,boolean,java.lang.String)' threw an unexpected exception: com.hp.ucmdb.api.ExecutionException: 
--- Start of server-side exception ---
appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
CMDB Operation Internal Error: class com.mercury.topaz.cmdb.shared.base.CmdbException : java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove : operation hist query: get data changes : class com.mercury.topaz.cmdb.shared.base.CmdbException : 
CMDB Internal Error: Error while handling request: {request: ID='44513af4774c9906848163def34dd556' Message='General CMDB request' Operation='com.hp.ucmdb.history.operation.query.HistQueryGetDataChanges@1bfaad9e' Customer ID='1, id name: Default Client' 
Context='CMDB Context: Customer id = '1, id name: Default Client' , User ID = '911' , Caller Application = 'UCMDB Browser on hcm-ucmdb-browser-608055954-8nfh6: User - admin,loggedInUser:{admin###UCMDB}''}
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.createCmdbResponseOnCmdbError(RequestProcessor.java:499)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.processRequest(RequestProcessor.java:223)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.handleRequest(RequestProcessor.java:127)
	at com.mercury.topaz.cmdb.server.manage.Framework.handleRequest(Framework.java:790)
	at com.mercury.topaz.cmdb.client.manage.api.impl.AbstractCmdbApi.executeCMDBOperation(AbstractCmdbApi.java:38)
	at com.mercury.topaz.cmdb.client.manage.api.impl.AbstractCmdbApi.executeOperation(AbstractCmdbApi.java:57)
	at com.mercury.topaz.cmdb.client.manage.api.impl.InternalApi.executeOperation(InternalApi.java:32)
	at com.mercury.topaz.cmdb.client.manage.api.impl.InternalApi.executeCMDBOperation(InternalApi.java:24)
	at com.mercury.topaz.cmdb.server.manage.ServerApiFacade.executeOperation(ServerApiFacade.java:56)
	at com.mercury.topaz.cmdb.server.manage.ServerApiFacade.executeOperation(ServerApiFacade.java:34)
	at com.hp.ucmdb.api.server.OperationExecutorForApi.executeOperation(OperationExecutorForApi.java:30)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.executeOperation(RequestProcessorBase.java:50)
	at com.hp.ucmdb.api.server.history.GetHistoryChangesContainingEnumProcessor.process(GetHistoryChangesContainingEnumProcessor.java:24)
	at com.hp.ucmdb.api.server.history.GetHistoryChangesContainingEnumProcessor.process(GetHistoryChangesContainingEnumProcessor.java:13)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocally(ApiProcessingHelper.java:43)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.processRequestLocally(ApiServletUtil.java:334)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.processRequest(ApiServletUtil.java:323)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.doHandleRequest(ApiServletUtil.java:286)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.doHandleRequest(ApiServletUtil.java:186)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.handleStickyRequest(ApiServletUtil.java:171)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.handleRequest(ApiServletUtil.java:104)
	at com.hp.ucmdb.api.server.http.ApiServlet.doPost(ApiServlet.java:199)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
CMDB Operation Internal Error: class com.mercury.topaz.cmdb.shared.base.CmdbException : java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove : operation hist query: get data changes
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation.execute(AbstractCommonOperation.java:160)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.doProcessRequest(RequestProcessor.java:238)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.doProcessRequestWithQueueLimitation(RequestProcessor.java:247)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.processRequest(RequestProcessor.java:201)
	... 54 more
Caused by: appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
CMDB Operation Internal Error: class com.mercury.topaz.cmdb.shared.base.CmdbException : java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove : operation hist query: get data changes
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation$OperationExecuteFlowTrackingCommand.execute(AbstractCommonOperation.java:114)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation$OperationExecuteFlowTrackingCommand.execute(AbstractCommonOperation.java:60)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.operation.flow.OperationInFlowDefaultExecutor.execute(OperationInFlowDefaultExecutor.java:23)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation.execute(AbstractCommonOperation.java:158)
	... 57 more
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove
	at com.mercury.topaz.cmdb.shared.base.CmdbException.wrap(CmdbException.java:77)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:66)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetHistoryChangesCommand.getAllChanges(HistDalGetHistoryChangesCommand.java:154)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetHistoryChangesCommand.perform(HistDalGetHistoryChangesCommand.java:76)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetHistoryChangesCommand.perform(HistDalGetHistoryChangesCommand.java:47)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.hp.ucmdb.history.dal.dao.CmdbDalJdbcHistDAO.executeQuery(CmdbDalJdbcHistDAO.java:61)
	at com.hp.ucmdb.history.dal.dao.CmdbDalJdbcHistDAO.getDataChanges(CmdbDalJdbcHistDAO.java:164)
	at com.hp.ucmdb.history.manager.impl.HistQueryManagerImpl.getDataChanges(HistQueryManagerFactory.java:100)
	at com.hp.ucmdb.history.operation.query.HistQueryGetDataChanges.historyQueryExecute(HistQueryGetDataChanges.java:66)
	at com.hp.ucmdb.history.operation.query.AbstractHistQueryOperation.historyExecute(AbstractHistQueryOperation.java:42)
	at com.hp.ucmdb.history.operation.AbstractHistOperation.doExecute(AbstractHistOperation.java:21)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractFrameworkOperation.commonExecute(AbstractFrameworkOperation.java:17)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation$OperationExecuteFlowTrackingCommand.execute(AbstractCommonOperation.java:87)
	... 61 more
Caused by: java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.buildLinkInfoFromResultSet(HistDalGetRelatedCIHistoryEvents.java:290)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.findLinkByEnd1AndDate(HistDalGetRelatedCIHistoryEvents.java:183)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.perform(HistDalGetRelatedCIHistoryEvents.java:106)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.perform(HistDalGetRelatedCIHistoryEvents.java:49)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	... 88 more
--- End of server-side exception ---

	at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:415)
	at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:605)
	at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:333)
	at com.hp.ucmdb_browser.server.UcmdbBrowserServiceImpl.processCall(UcmdbBrowserServiceImpl.java:1436)
	at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:303)
	at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:373)
	at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.ucmdb_browser.server.web.SecurityFilter.doFilter(SecurityFilter.java:87)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.ucmdb_browser.server.web.LWSSOGoldenRuleFilter.doFilterInternal(LWSSOGoldenRuleFilter.java:80)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at sun.reflect.GeneratedMethodAccessor115.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:132)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy144.doFilter(Unknown Source)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.sw.bto.ast.security.lwsso.LWSSOFilter.doFilter(LWSSOFilter.java:74)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.ucmdb_browser.server.listeners_filters.GWTCacheControlFilter.doFilter(GWTCacheControlFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.ucmdb_browser.server.listeners_filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.ucmdb_browser.server.web.ClickjackingFilter.doFilter(ClickjackingFilter.java:37)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.hp.ucmdb_browser.server.web.BrowserDoSFilter.doFilterChain(BrowserDoSFilter.java:65)
	at org.eclipse.jetty.servlets.DoSFilter.doFilter(DoSFilter.java:322)
	at com.hp.ucmdb_browser.server.web.BrowserDoSFilter.doFilter(BrowserDoSFilter.java:26)
	at org.eclipse.jetty.servlets.DoSFilter.doFilter(DoSFilter.java:292)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.hp.ucmdb.api.ExecutionException: 
--- Start of server-side exception ---
appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
CMDB Operation Internal Error: class com.mercury.topaz.cmdb.shared.base.CmdbException : java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove : operation hist query: get data changes : class com.mercury.topaz.cmdb.shared.base.CmdbException : 
CMDB Internal Error: Error while handling request: {request: ID='44513af4774c9906848163def34dd556' Message='General CMDB request' Operation='com.hp.ucmdb.history.operation.query.HistQueryGetDataChanges@1bfaad9e' Customer ID='1, id name: Default Client' 
Context='CMDB Context: Customer id = '1, id name: Default Client' , User ID = '911' , Caller Application = 'UCMDB Browser on hcm-ucmdb-browser-608055954-8nfh6: User - admin,loggedInUser:{admin###UCMDB}''}
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.createCmdbResponseOnCmdbError(RequestProcessor.java:499)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.processRequest(RequestProcessor.java:223)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.handleRequest(RequestProcessor.java:127)
	at com.mercury.topaz.cmdb.server.manage.Framework.handleRequest(Framework.java:790)
	at com.mercury.topaz.cmdb.client.manage.api.impl.AbstractCmdbApi.executeCMDBOperation(AbstractCmdbApi.java:38)
	at com.mercury.topaz.cmdb.client.manage.api.impl.AbstractCmdbApi.executeOperation(AbstractCmdbApi.java:57)
	at com.mercury.topaz.cmdb.client.manage.api.impl.InternalApi.executeOperation(InternalApi.java:32)
	at com.mercury.topaz.cmdb.client.manage.api.impl.InternalApi.executeCMDBOperation(InternalApi.java:24)
	at com.mercury.topaz.cmdb.server.manage.ServerApiFacade.executeOperation(ServerApiFacade.java:56)
	at com.mercury.topaz.cmdb.server.manage.ServerApiFacade.executeOperation(ServerApiFacade.java:34)
	at com.hp.ucmdb.api.server.OperationExecutorForApi.executeOperation(OperationExecutorForApi.java:30)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.executeOperation(RequestProcessorBase.java:50)
	at com.hp.ucmdb.api.server.history.GetHistoryChangesContainingEnumProcessor.process(GetHistoryChangesContainingEnumProcessor.java:24)
	at com.hp.ucmdb.api.server.history.GetHistoryChangesContainingEnumProcessor.process(GetHistoryChangesContainingEnumProcessor.java:13)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor$1.doWork(AbstractCustomerRequestProcessor.java:25)
	at com.mercury.topaz.cmdb.shared.manage.AuthorizationEntryPointHelper.authorizeAndProcess(AuthorizationEntryPointHelper.java:50)
	at com.hp.ucmdb.api.server.request.AbstractCustomerRequestProcessor.doProcess(AbstractCustomerRequestProcessor.java:22)
	at com.hp.ucmdb.api.server.request.RequestProcessorBase.processAndLog(RequestProcessorBase.java:114)
	at com.hp.ucmdb.api.server.util.ApiProcessingHelper.processRequestLocally(ApiProcessingHelper.java:43)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.processRequestLocally(ApiServletUtil.java:334)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.processRequest(ApiServletUtil.java:323)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.doHandleRequest(ApiServletUtil.java:286)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.doHandleRequest(ApiServletUtil.java:186)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.handleStickyRequest(ApiServletUtil.java:171)
	at com.hp.ucmdb.api.server.http.ApiServletUtil.handleRequest(ApiServletUtil.java:104)
	at com.hp.ucmdb.api.server.http.ApiServlet.doPost(ApiServlet.java:199)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:808)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669)
	at com.hp.ucmdb.security.filters.HttpCachingPolicyFilter.doFilter(HttpCachingPolicyFilter.java:44)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.hp.ucmdb.security.filters.HttpRequestMethodFilter.doFilter(HttpRequestMethodFilter.java:35)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.SecurityRestrictionsFilter.doFilter(SecurityRestrictionsFilter.java:34)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at com.mercury.topaz.cmdb.server.manage.servlet.LBSessionCookieFilter.doFilter(LBSessionCookieFilter.java:58)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
CMDB Operation Internal Error: class com.mercury.topaz.cmdb.shared.base.CmdbException : java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove : operation hist query: get data changes
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation.execute(AbstractCommonOperation.java:160)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.doProcessRequest(RequestProcessor.java:238)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.doProcessRequestWithQueueLimitation(RequestProcessor.java:247)
	at com.mercury.topaz.cmdb.server.manage.rpm.RequestProcessor.processRequest(RequestProcessor.java:201)
	... 54 more
Caused by: appilog.framework.shared.manage.impl.MamResponseException: [ErrorCode [-2147483648] undefined error code]
CMDB Operation Internal Error: class com.mercury.topaz.cmdb.shared.base.CmdbException : java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove : operation hist query: get data changes
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation$OperationExecuteFlowTrackingCommand.execute(AbstractCommonOperation.java:114)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation$OperationExecuteFlowTrackingCommand.execute(AbstractCommonOperation.java:60)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.operation.flow.OperationInFlowDefaultExecutor.execute(OperationInFlowDefaultExecutor.java:23)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation.execute(AbstractCommonOperation.java:158)
	... 57 more
Caused by: com.mercury.topaz.cmdb.shared.base.CmdbException: [ErrorCode [-2147483648] undefined error code]
java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove
	at com.mercury.topaz.cmdb.shared.base.CmdbException.wrap(CmdbException.java:77)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:66)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetHistoryChangesCommand.getAllChanges(HistDalGetHistoryChangesCommand.java:154)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetHistoryChangesCommand.perform(HistDalGetHistoryChangesCommand.java:76)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetHistoryChangesCommand.perform(HistDalGetHistoryChangesCommand.java:47)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:120)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO$CmdbDalDeadlockRetriable.performAction(CmdbDalJdbcDAO.java:105)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.DefaultRetriableExecutorImpl.doExecute(DefaultRetriableExecutorImpl.java:37)
	at com.mercury.topaz.cmdb.shared.util.retry.impl.AbstractRetriableExecutor.execute(AbstractRetriableExecutor.java:37)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:61)
	at com.mercury.topaz.cmdb.server.manage.dal.CmdbDalJdbcDAO.executeQuery(CmdbDalJdbcDAO.java:53)
	at com.hp.ucmdb.history.dal.dao.CmdbDalJdbcHistDAO.executeQuery(CmdbDalJdbcHistDAO.java:61)
	at com.hp.ucmdb.history.dal.dao.CmdbDalJdbcHistDAO.getDataChanges(CmdbDalJdbcHistDAO.java:164)
	at com.hp.ucmdb.history.manager.impl.HistQueryManagerImpl.getDataChanges(HistQueryManagerFactory.java:100)
	at com.hp.ucmdb.history.operation.query.HistQueryGetDataChanges.historyQueryExecute(HistQueryGetDataChanges.java:66)
	at com.hp.ucmdb.history.operation.query.AbstractHistQueryOperation.historyExecute(AbstractHistQueryOperation.java:42)
	at com.hp.ucmdb.history.operation.AbstractHistOperation.doExecute(AbstractHistOperation.java:21)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractFrameworkOperation.commonExecute(AbstractFrameworkOperation.java:17)
	at com.mercury.topaz.cmdb.shared.manage.operation.impl.AbstractCommonOperation$OperationExecuteFlowTrackingCommand.execute(AbstractCommonOperation.java:87)
	... 61 more
Caused by: java.lang.IllegalStateException: Unexpected link chane type {BASELINE}, should be add or remove
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.buildLinkInfoFromResultSet(HistDalGetRelatedCIHistoryEvents.java:290)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.findLinkByEnd1AndDate(HistDalGetRelatedCIHistoryEvents.java:183)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.perform(HistDalGetRelatedCIHistoryEvents.java:106)
	at com.hp.ucmdb.history.dal.command.query.changes.HistDalGetRelatedCIHistoryEvents.perform(HistDalGetRelatedCIHistoryEvents.java:49)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand$FlowControlDalCommandExecutor.execute(DalAbstractCommand.java:36)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:227)
	at com.mercury.topaz.cmdb.shared.manage.flowmanagement.api.FlowManager.execute(FlowManager.java:222)
	at com.mercury.topaz.cmdb.server.manage.dal.DalAbstractCommand.execute(DalAbstractCommand.java:54)
	... 88 more
--- End of server-side exception ---

	at com.hp.ucmdb.api.client.http.HttpSubmitterUtils.extractExceptionFromStream(HttpSubmitterUtils.java:36)
	at com.hp.ucmdb.api.client.http.HttpRequestSubmitter.internalSubmitRequest(HttpRequestSubmitter.java:214)
	at com.hp.ucmdb.api.client.http.HttpRequestSubmitter.internalSubmitRequest(HttpRequestSubmitter.java:141)
	at com.hp.ucmdb.api.client.http.HttpRequestSubmitter.internalSubmitRequest(HttpRequestSubmitter.java:80)
	at com.hp.ucmdb.api.client.http.HttpRequestSubmitter.internalSubmitRequest(HttpRequestSubmitter.java:76)
	at com.hp.ucmdb.api.client.AbstractRequestSubmitter.submitRequest(AbstractRequestSubmitter.java:53)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:421)
	at com.hp.ucmdb.api.client.RequestSubmitterWithContext.submitRequest(RequestSubmitterWithContext.java:29)
	at com.hp.ucmdb.api.client.UcmdbServiceImpl.submitRequest(UcmdbServiceImpl.java:412)
	at com.hp.ucmdb.api.client.AbstractService.submitRequest(AbstractService.java:19)
	at com.hp.ucmdb.api.client.history.HistoryServiceImpl.getChangesContainingEnum(HistoryServiceImpl.java:136)
	at com.hp.ucmdb_browser.server.subservices.impl.v10_22.HistoryServiceImpl.getHistoryServiceChanges(HistoryServiceImpl.java:54)
	at com.hp.ucmdb_browser.server.subservices.impl.HistoryServiceImpl.getHistoryChangesCount(HistoryServiceImpl.java:362)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:132)
	at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:120)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy113.getHistoryChangesCount(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.hp.ucmdb_browser.server.subservices.factories.AbstractServiceBeanFactory.invoke(AbstractServiceBeanFactory.java:91)
	at com.sun.proxy.$Proxy151.getHistoryChangesCount(Unknown Source)
	at com.hp.ucmdb_browser.server.UcmdbBrowserServiceImpl.getHistoryChangesCount(UcmdbBrowserServiceImpl.java:1343)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:587)
	... 71 more

